{"ast":null,"code":"var _jsxFileName = \"/Users/indsingh11/Desktop/react-master-2024/router-practice/frontend/src/Pages/NewEventPage.jsx\";\nimport { json, redirect } from \"react-router-dom\";\nimport EventForm from \"../components/EventForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewEventPage = () => {\n  return /*#__PURE__*/_jsxDEV(EventForm, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 12\n  }, this);\n};\n_c = NewEventPage;\nexport default NewEventPage;\nexport function action({\n  request,\n  params\n}) {\n  const fData = new request.formData();\n  let result;\n  for (let [key, value] of fData) {\n    result = {\n      ...result,\n      [key]: value\n    };\n  }\n  async function submitData(event) {\n    try {\n      console.log('post');\n      const response = await fetch('http://localhost:8080/events', {\n        method: 'POST',\n        body: JSON.stringify(event),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw json({\n          message: 'not able to post'\n        }, {\n          status: 500\n        });\n      }\n      redirect('/events');\n    } catch (error) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 8\n      }, this);\n    }\n  }\n  submitData(result);\n}\nvar _c;\n$RefreshReg$(_c, \"NewEventPage\");","map":{"version":3,"names":["json","redirect","EventForm","jsxDEV","_jsxDEV","NewEventPage","fileName","_jsxFileName","lineNumber","columnNumber","_c","action","request","params","fData","formData","result","key","value","submitData","event","console","log","response","fetch","method","body","JSON","stringify","headers","ok","message","status","error","children","$RefreshReg$"],"sources":["/Users/indsingh11/Desktop/react-master-2024/router-practice/frontend/src/Pages/NewEventPage.jsx"],"sourcesContent":["import { json, redirect } from \"react-router-dom\"\nimport EventForm from \"../components/EventForm\"\nconst NewEventPage=()=>{\n \n    return <EventForm />\n}\nexport default NewEventPage\n\n\n\nexport function action({request,params}){\n\n    const fData=new request.formData()\n\nlet result;\nfor(let [key,value] of fData ){\nresult={...result,[key]:value}\n}\nasync function submitData(event){\ntry{\nconsole.log('post')\nconst response = await fetch('http://localhost:8080/events',{\nmethod:'POST',\nbody:JSON.stringify(event),\nheaders:{\n    'Content-Type': 'application/json'\n}\n\n})\nif(!response.ok){\n  throw  json({message:'not able to post'},{status:500})\n\n}\nredirect('/events')\n}\ncatch(error){\nreturn <p>error</p>\n}\n}\nsubmitData(result)\n}"],"mappings":";AAAA,SAASA,IAAI,EAAEC,QAAQ,QAAQ,kBAAkB;AACjD,OAAOC,SAAS,MAAM,yBAAyB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAC/C,MAAMC,YAAY,GAACA,CAAA,KAAI;EAEnB,oBAAOD,OAAA,CAACF,SAAS;IAAAI,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACxB,CAAC;AAAAC,EAAA,GAHKL,YAAY;AAIlB,eAAeA,YAAY;AAI3B,OAAO,SAASM,MAAMA,CAAC;EAACC,OAAO;EAACC;AAAM,CAAC,EAAC;EAEpC,MAAMC,KAAK,GAAC,IAAIF,OAAO,CAACG,QAAQ,CAAC,CAAC;EAEtC,IAAIC,MAAM;EACV,KAAI,IAAI,CAACC,GAAG,EAACC,KAAK,CAAC,IAAIJ,KAAK,EAAE;IAC9BE,MAAM,GAAC;MAAC,GAAGA,MAAM;MAAC,CAACC,GAAG,GAAEC;IAAK,CAAC;EAC9B;EACA,eAAeC,UAAUA,CAACC,KAAK,EAAC;IAChC,IAAG;MACHC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;MACnB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAC;QAC5DC,MAAM,EAAC,MAAM;QACbC,IAAI,EAACC,IAAI,CAACC,SAAS,CAACR,KAAK,CAAC;QAC1BS,OAAO,EAAC;UACJ,cAAc,EAAE;QACpB;MAEA,CAAC,CAAC;MACF,IAAG,CAACN,QAAQ,CAACO,EAAE,EAAC;QACd,MAAO9B,IAAI,CAAC;UAAC+B,OAAO,EAAC;QAAkB,CAAC,EAAC;UAACC,MAAM,EAAC;QAAG,CAAC,CAAC;MAExD;MACA/B,QAAQ,CAAC,SAAS,CAAC;IACnB,CAAC,CACD,OAAMgC,KAAK,EAAC;MACZ,oBAAO7B,OAAA;QAAA8B,QAAA,EAAG;MAAK;QAAA5B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IACnB;EACA;EACAU,UAAU,CAACH,MAAM,CAAC;AAClB;AAAC,IAAAN,EAAA;AAAAyB,YAAA,CAAAzB,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}